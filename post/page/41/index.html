<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=en><![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang=en><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang=en><![endif]--><!--[if gt IE 8]><!--><html class=no-js lang=en><!--<![endif]--><head><meta charset=utf-8><title>Posts &#8211; Le murmure de Julian</title><meta name=description content><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://blog.jln.co/post/"><meta property="og:image" content="http://blog.jln.co/images/avatar.png"><meta property="og:updated_time" content="2017-06-18T12:21:33+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.jln.co/images/avatar.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content><link rel=canonical href=http://blog.jln.co/post/><link href=http://blog.jln.co/post/feed.xml rel=alternate type=application/rss+xml title="Le murmure de Julian"><link href=http://blog.jln.co/post/feed.xml rel=feed type=application/rss+xml title="Le murmure de Julian"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel=stylesheet type=text/css><meta http-equiv=cleartype content="on"><meta name=generator content="Hugo 0.73.0"><script src=/js/vendor/modernizr-2.6.2.custom.min.js></script><script async src=https://unpkg.com/mermaid@8.2.3/dist/mermaid.min.js></script><link rel="shortcut icon" href=/favicon.png></head><body id=post-index class=feature><nav id=dl-menu class=dl-menuwrapper role=navigation style=display:inline-block><button class=dl-trigger>Open Menu</button><ul class=dl-menu><li><a href=/>Home</a></li><li><a href=#>About</a><ul class=dl-submenu><li><img src=/images/avatar.png alt="Julian Shen's photo" class=author-photo><h4>Julian Shen</h4><p>Softward developer</p></li><li><a href=mailto:julianshen22@gmail.com><i class="fa fa-fw fa-envelope"></i>Email</a></li><li><a href=https://linkedin.com/in/julianshen><i class="fa fa-fw fa-linkedin"></i>LinkedIn</a></li><li><a href=https://github.com/julianshen><i class="fa fa-fw fa-github"></i>GitHub</a></li><li><a href=https://instagram.com/julianshen><i class="fa fa-fw fa-instagram"></i>Instagram</a></li></ul></li><li><a href=#>Posts</a><ul class=dl-submenu><li><a href=/post/>All Posts</a></li><li><a href=/tags/>All Tags</a></li></ul></li><li><a href=/></a></li></ul></nav><div class=entry-header><div class=image-credit>Image credit: <a href=http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/>dargadgetz</a></div><div class=entry-image><img src=/abstract-2.jpg alt=Posts></div><div class=header-title><div class=header-title-wrap><h1><a href=/ title="Go to the homepage">Le murmure de Julian</a></h1><h2>All posts</h2></div></div></div><div id=main role=main><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2011-05-11 09:13:17 +0000 UTC"><a href=/%E5%AE%B6%E8%A3%A1%E7%AC%AC%E4%BA%8C%E5%8F%B0%E7%A9%BA%E6%B0%A3%E6%B8%85%E6%B7%A8%E6%A9%9F-Daikin-MC75JSC/>May 11, 2011</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~1 minute</span></div><h1 class=entry-title><a href=/%E5%AE%B6%E8%A3%A1%E7%AC%AC%E4%BA%8C%E5%8F%B0%E7%A9%BA%E6%B0%A3%E6%B8%85%E6%B7%A8%E6%A9%9F-Daikin-MC75JSC/ rel=bookmark title="家裡第二台空氣清淨機 - Daikin MC75JSC" itemprop=url>家裡第二台空氣清淨機 - Daikin MC75JSC</a></h1></header><div class=entry-content><div class=posterous_autopost><div class="p_embed p_image_embed"><a href=http://posterous.com/getfile/files.posterous.com/julianshen/AkCpeeozhJwawxnzvpmCBcuDCuradGwuIGJsurocDwpkJjGCAsmDwyFgFkGF/p425.jpg.scaled1000.jpg><img alt=P425 height=670 src=http://posterous.com/getfile/files.posterous.com/julianshen/AkCpeeozhJwawxnzvpmCBcuDCuradGwuIGJsurocDwpkJjGCAsmDwyFgFkGF/p425.jpg.scaled500.jpg width=500></a></div>家中空氣灰塵多，主臥那台Daikin用了四年，覺得不夠，還是多買了台放客廳，不過總覺新款的沒以前有質感</div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2011-05-10 14:19:21 +0000 UTC"><a href=/Generating-Facebook-key-hash-for-Android/>May 10, 2011</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~1 minute</span></div><h1 class=entry-title><a href=/Generating-Facebook-key-hash-for-Android/ rel=bookmark title="Generating Facebook key hash for Android" itemprop=url>Generating Facebook key hash for Android</a></h1></header><div class=entry-content><div class=posterous_autopost><p>According to<a href=http://developers.facebook.com/docs/guides/mobile/#android> Facebook mobile development document</a> (Android), you need to generate a key hash for your application in order to apply Facebook SSO(Single Sign on).</p><p>Here is the formal way to do this:</p><blockquote><p><span style=color:#9c0>keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64</span></p></blockquote><p>But sometimes you won&rsquo;t have a tradtional key store especially when building with Android open sources. Keys in Android open sources are in pk8 format. In order to generate key hashes with these keys, you need to tranfer them into a pk12 key store.</p><p>I created another way to generate keyhash without <em><strong>keytool</strong></em> and <em><strong>openssl</strong></em>. Here is the source codes: <a href=https://github.com/julianshen/FacebookKeyHashGen>FacebookKeyHashGen</a></p><p>This program get package sigature directly from package itself. </p></div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2011-05-09 10:09:58 +0000 UTC"><a href=/Mos-%E6%98%A5%E8%8F%87%E8%B1%86%E8%85%90%E9%9B%9E%E8%82%89%E5%A0%A1/>May 9, 2011</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~1 minute</span></div><h1 class=entry-title><a href=/Mos-%E6%98%A5%E8%8F%87%E8%B1%86%E8%85%90%E9%9B%9E%E8%82%89%E5%A0%A1/ rel=bookmark title="Mos 春菇豆腐雞肉堡" itemprop=url>Mos 春菇豆腐雞肉堡</a></h1></header><div class=entry-content><div class=posterous_autopost><a href=http://instagr.am/p/ECW-w/><div class="p_embed p_image_embed"><a href=http://posterous.com/getfile/files.posterous.com/julianshen/kcHzGJkkhmIJEsyakIbFsElouDFlIpmfubundgwcDJdeFxofJqsuxcovfvyr/media_httpimagesinsta_jqwvp.jpg.scaled1000.jpg><img alt=Media_httpimagesinsta_jqwvp height=500 src=http://posterous.com/getfile/files.posterous.com/julianshen/kcHzGJkkhmIJEsyakIbFsElouDFlIpmfubundgwcDJdeFxofJqsuxcovfvyr/media_httpimagesinsta_jqwvp.jpg.scaled500.jpg width=500></a></div></a><br>Taken at 新竹高鐵摩斯漢堡</div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2011-05-09 00:34:09 +0000 UTC"><a href=/POC%E7%AD%86%E8%A8%98Rhino-on-Android-%E6%96%B0%E7%9A%84onClickListener/>May 9, 2011</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~3 minutes</span></div><h1 class=entry-title><a href=/POC%E7%AD%86%E8%A8%98Rhino-on-Android-%E6%96%B0%E7%9A%84onClickListener/ rel=bookmark title="[POC][筆記][Rhino on Android] - 新的onClickListener" itemprop=url>[POC][筆記][Rhino on Android] - 新的onClickListener</a></h1></header><div class=entry-content><div class=posterous_autopost><p><a href=http://julianshen.posterous.com/pocrhino-developing-android-with-js-onclickli>上次的作法</a>:</p><blockquote><p><span style=color:maroon>var</span> button1 = findview(R.id(<span style=color:#36f>&lsquo;button1&rsquo;</span>));</p><p>button1.setOnClickListener(<span style=color:maroon>function</span>(view, methodName)<br>{<br>     if (methodName == <span style=color:#36f>&ldquo;onClick&rdquo;</span>) {<br>         log(&ldquo;MyScript&rdquo;, &ldquo;clicked&rdquo;);<br>} });</p></blockquote><p>當然不是很滿意, &ldquo;if(methodName == "onClick&rdquo;)&ldquo;這樣的寫法太醜了啦!</p><p>所以這次的目標是:</p><blockquote class=posterous_short_quote><p>button1.onclick = function(view) {</p><p>     log("MyScript&rdquo;, &ldquo;clicked&rdquo;);</p><p>     alert('Hi there!&rsquo;);</p><p>};</p></blockquote><p>這樣比較像印象中javascript的寫法</p><p>為了達到這目的, 必須在View中加入onclick這個property, 但原本View class(Java)並沒這東西, 如何將它包裝出來?</p><p>Rhino對於Javascript使用原生的java objects並不是直接使用, 還是有透過一層包裝, 因此這就是要做出這個property的路了, 包裝的點在於<a href=http://www.mozilla.org/rhino/apidocs/org/mozilla/javascript/WrapFactory.html>WrapFactory</a>, 而原生的Java object會被包裝長NativeJavaObject </p><p>而Rhino允許我們用自己的WrapFactory取代原本的, 像是這樣:</p><blockquote><p>jsContext.setWrapFactory(new <strong><span style=color:#f60>AndroidWrapFactory()</span></strong>);</p></blockquote><p>因此我們會需要自己實作這一個AndroidWrapFactory, 把原本的View改用不同的包裝, 而非原本的NativeJavaObject, 基本上只需要實作wrapAsJavaObject即可:</p><p><script src="https://gist.github.com/961470.js?file=AndroidWrapFactory.java"></script></p><p>這邊用了一個新實作的ViewWrapper來取代NativeJavaObject</p><p><script src="https://gist.github.com/961471.js?file=ViewWrapper.java"></script></p><p>本來我的打算是繼承自NativeJavaObject, 然後再加入自己的東西, 不過後來發現這樣的作法總會在"put"時出差錯, 原因是NativeJavaObject是沒辦法加入新的member了(其實這說法有點問題, 應該是只要設prototype給它的話還是可以), 加上一些比較實用的function是定義在ScriptableObject的裡面, 因此, 我最後採用ScriptableObject來包裝</p><p>但要如何在ScriptableObject裡面實現像NativeJavaObject那樣可以直接叫用原本的Java class裡面的member呢?這部份不用自己實作, 只要把原本的NativeJavaObject當做這新的ViewWrapper的prototype就好了, 所以這邊constructor呼叫的super contructor是:</p><blockquote class=posterous_short_quote><p>public ScriptableObject(Scriptable scope, Scriptable prototype)</p><p>===> super(scope, new NativeJavaObject(scope, javaObject, staticType));</p></blockquote><p>defineProperty這包裝是從ScritableObject那邊改寫其中一個過來的, 主要是用來讓我們可以把這些"onlick",&ldquo;onlongclick"包裝成property, 在ViewWrapper可以實作getter和setter, 為了避免名稱上的混淆, 所以把getter的prefix定義成"jsget"而setter是"jsset&rdquo;</p><p>在onlick的setter中, 除了將function object存起來外, 還直接對原本包裝的View設一個OnClickListener, 動作則是執行這個Function object</p><p>最後, 前面的範例裡面有一個"alert('Hi! there&rsquo;)&ldquo;, 因此為了"alert()"多實作一個Alert.java出來(跟上面的無關啦), 這是source:</p><p><script src="https://gist.github.com/961481.js?file=Alert.java"></script></p><p>接下來的目標, </p><ul><li>包裝一個實際真的可以拿來開發的package, release 0.1 alpha</li><li>實作XmlHttpRequest</li><li>Adapter & AdapterView, Service & Provider</li></ul></div></div></article><article class=hentry><header><div class=entry-meta><span class="entry-date date published updated"><time datetime="2011-05-08 14:54:14 +0000 UTC"><a href=/Google-code-jam-Problem-B.-Magicka/>May 8, 2011</a></time></span>
<span class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~1 minute</span></div><h1 class=entry-title><a href=/Google-code-jam-Problem-B.-Magicka/ rel=bookmark title="Google code jam: Problem B. Magicka" itemprop=url>Google code jam: Problem B. Magicka</a></h1></header><div class=entry-content><div class=posterous_autopost><p><a href="http://code.google.com/codejam/contest/dashboard?c=975485#s=p1">題目</a></p><p>一直在想說為啥我submit的答案有問題想到沒睡好, 剛剛才發現, 我誤會了一個關鍵句:</p><blockquote><p>it is opposed to something in your element list, then your <span style=font-size:medium><strong>whole element list</strong></span> will be cleared.</p></blockquote><p>結果我誤解成只有被兩個字元夾住的區域才會clear, test set也沒驗出我的問題&mldr;. = =&ldquo;</p><p>這題關鍵除了這個外, 還有</p><blockquote class=posterous_medium_quote><p>If the two elements from a pair appear at <strong>the end of the element list</strong>, then both elements of the pair will be immediately removed, and they will be replaced by the element they form.</p></blockquote><p>所以, &rdquo;<span style="border-collapse:collapse;font-family:bogus font here,monospace">1 QFT 1 QF 7 FAQFDFQ"的答案會是"[F, D, T]&ldquo;而不是&rdquo;[]&ldquo;</span></p><p><span style="font-family:bogus font here,monospace"><span style=border-collapse:collapse>浪費了一題&mldr; :(</span></span></p></div></div></article><div class=pagination><ul class=inline-list><li><a href=/post/page/40/ class=btn>Previous</a></li><li><a href=/post/>1</a></li><li><a href=/post/page/2/>2</a></li><li><a href=/post/page/3/>3</a></li><li><a href=/post/page/4/>4</a></li><li><a href=/post/page/5/>5</a></li><li><a href=/post/page/6/>6</a></li><li><a href=/post/page/7/>7</a></li><li><a href=/post/page/8/>8</a></li><li><a href=/post/page/9/>9</a></li><li><a href=/post/page/10/>10</a></li><li><a href=/post/page/11/>11</a></li><li><a href=/post/page/12/>12</a></li><li><a href=/post/page/13/>13</a></li><li><a href=/post/page/14/>14</a></li><li><a href=/post/page/15/>15</a></li><li><a href=/post/page/16/>16</a></li><li><a href=/post/page/17/>17</a></li><li><a href=/post/page/18/>18</a></li><li><a href=/post/page/19/>19</a></li><li><a href=/post/page/20/>20</a></li><li><a href=/post/page/21/>21</a></li><li><a href=/post/page/22/>22</a></li><li><a href=/post/page/23/>23</a></li><li><a href=/post/page/24/>24</a></li><li><a href=/post/page/25/>25</a></li><li><a href=/post/page/26/>26</a></li><li><a href=/post/page/27/>27</a></li><li><a href=/post/page/28/>28</a></li><li><a href=/post/page/29/>29</a></li><li><a href=/post/page/30/>30</a></li><li><a href=/post/page/31/>31</a></li><li><a href=/post/page/32/>32</a></li><li><a href=/post/page/33/>33</a></li><li><a href=/post/page/34/>34</a></li><li><a href=/post/page/35/>35</a></li><li><a href=/post/page/36/>36</a></li><li><a href=/post/page/37/>37</a></li><li><a href=/post/page/38/>38</a></li><li><a href=/post/page/39/>39</a></li><li><a href=/post/page/40/>40</a></li><li><strong class=current-page>41</strong></li><li><a href=/post/page/42/>42</a></li><li><a href=/post/page/43/>43</a></li><li><a href=/post/page/44/>44</a></li><li><a href=/post/page/45/>45</a></li><li><a href=/post/page/46/>46</a></li><li><a href=/post/page/47/>47</a></li><li><a href=/post/page/48/>48</a></li><li><a href=/post/page/49/>49</a></li><li><a href=/post/page/50/>50</a></li><li><a href=/post/page/51/>51</a></li><li><a href=/post/page/52/>52</a></li><li><a href=/post/page/53/>53</a></li><li><a href=/post/page/54/>54</a></li><li><a href=/post/page/55/>55</a></li><li><a href=/post/page/56/>56</a></li><li><a href=/post/page/57/>57</a></li><li><a href=/post/page/58/>58</a></li><li><a href=/post/page/59/>59</a></li><li><a href=/post/page/60/>60</a></li><li><a href=/post/page/61/>61</a></li><li><a href=/post/page/62/>62</a></li><li><a href=/post/page/63/>63</a></li><li><a href=/post/page/64/>64</a></li><li><a href=/post/page/65/>65</a></li><li><a href=/post/page/66/>66</a></li><li><a href=/post/page/67/>67</a></li><li><a href=/post/page/68/>68</a></li><li><a href=/post/page/69/>69</a></li><li><a href=/post/page/70/>70</a></li><li><a href=/post/page/71/>71</a></li><li><a href=/post/page/42/ class=btn>Next</a></li></ul></div></div><div class=footer-wrapper><footer role=contentinfo><span>Powered by <a href=https://gohugo.io/ rel=nofollow>Hugo</a> using the <a href=https://github.com/dldx/hpstr-hugo-theme rel=nofollow>HPSTR theme</a>.</span></footer></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://kit.fontawesome.com/872a53b461.js crossorigin=anonymous></script><script>window.jQuery||document.write('<script src="\/js\/vendor\/jquery-1.9.1.min.js"><\/script>')</script><script src=/js/scripts.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-79243751-1','auto');ga('send','pageview');}</script><div id=fb-root></div><script async defer crossorigin=anonymous src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v7.0&appId=293999444006555&autoLogAppEvents=1" nonce=geZSUIUh></script></body></html>
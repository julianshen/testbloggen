<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=en><![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang=en><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang=en><![endif]--><!--[if gt IE 8]><!--><html class=no-js lang=en><!--<![endif]--><head><meta charset=utf-8><title>[筆記] Building social networking service with DIASPORA* on Heroku &#8211; Le murmure de Julian</title><meta name=description content><meta name=keywords content="Cloud,Heroku,Social network,Web Dev"><meta property="og:title" content="[筆記] Building social networking service with DIASPORA* on Heroku"><meta property="og:description" content="Looks familiar? It&rsquo;s not Google+. It&rsquo;s DIASPORA. An open source project that implements a distributed social networking service. This project was announced on APRIL 24, 2010 (Just right after Facebook f8 2010 that is at APRIL 21). Alpha version was released at NOV 23, 2010 (two days before my birthday :P). According to this, Mark Zuckerbug also donated to it just because it&rsquo;s a cool idea. It&rsquo;s built on Ruby"><meta property="og:type" content="article"><meta property="og:url" content="http://blog.jln.co/%E7%AD%86%E8%A8%98-Building-social-networking-service-with-DIASPORA-on-Heroku/"><meta property="og:image" content="http://blog.jln.co/images/avatar.png"><meta property="article:published_time" content="2011-09-29T01:11:11+00:00"><meta property="article:modified_time" content="2011-09-29T01:11:11+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.jln.co/images/avatar.png"><meta name=twitter:title content="[筆記] Building social networking service with DIASPORA* on Heroku"><meta name=twitter:description content="Looks familiar? It&rsquo;s not Google+. It&rsquo;s DIASPORA. An open source project that implements a distributed social networking service. This project was announced on APRIL 24, 2010 (Just right after Facebook f8 2010 that is at APRIL 21). Alpha version was released at NOV 23, 2010 (two days before my birthday :P). According to this, Mark Zuckerbug also donated to it just because it&rsquo;s a cool idea. It&rsquo;s built on Ruby"><link rel=canonical href=http://blog.jln.co/%E7%AD%86%E8%A8%98-Building-social-networking-service-with-DIASPORA-on-Heroku/><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel=stylesheet type=text/css><meta http-equiv=cleartype content="on"><meta name=generator content="Hugo 0.73.0"><script src=/js/vendor/modernizr-2.6.2.custom.min.js></script><script async src=https://unpkg.com/mermaid@8.2.3/dist/mermaid.min.js></script><link rel="shortcut icon" href=/favicon.png></head><body id=post><nav id=dl-menu class=dl-menuwrapper role=navigation style=display:inline-block><button class=dl-trigger>Open Menu</button><ul class=dl-menu><li><a href=/>Home</a></li><li><a href=#>About</a><ul class=dl-submenu><li><img src=/images/avatar.png alt="Julian Shen's photo" class=author-photo><h4>Julian Shen</h4><p>Softward developer</p></li><li><a href=mailto:julianshen22@gmail.com><i class="fa fa-fw fa-envelope"></i>Email</a></li><li><a href=https://linkedin.com/in/julianshen><i class="fa fa-fw fa-linkedin"></i>LinkedIn</a></li><li><a href=https://github.com/julianshen><i class="fa fa-fw fa-github"></i>GitHub</a></li><li><a href=https://instagram.com/julianshen><i class="fa fa-fw fa-instagram"></i>Instagram</a></li></ul></li><li><a href=#>Posts</a><ul class=dl-submenu><li><a href=/post/>All Posts</a></li><li><a href=/tags/>All Tags</a></li></ul></li><li><a href=/></a></li></ul></nav><div id=main role=main><article class=hentry><header class=header-title><div class=header-title-wrap><h1 class=entry-title><a href=/%E7%AD%86%E8%A8%98-Building-social-networking-service-with-DIASPORA-on-Heroku/ rel=bookmark title="[筆記] Building social networking service with DIASPORA* on Heroku">[筆記] Building social networking service with DIASPORA* on Heroku</a></h1><h2><span class="entry-date date published"><time datetime="2011-09-29 01:11:11 +0000 UTC">September 29, 2011</time></span></h2><p class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~1 minute</p></div></header><div class=entry-content><div class=posterous_autopost><div class="p_embed p_image_embed"><a href=http://posterous.com/getfile/files.posterous.com/temp-2011-09-28/yDcrGkHznnvkFfkhEjoabkEryHGaevvynvtyCEGosBbuinEijbvqtaehCjpq/_2011-09-29_12.03.19.png.scaled1000.png><img alt=_2011-09-29_12 height=392 src=http://posterous.com/getfile/files.posterous.com/temp-2011-09-28/yDcrGkHznnvkFfkhEjoabkEryHGaevvynvtyCEGosBbuinEijbvqtaehCjpq/_2011-09-29_12.03.19.png.scaled500.png width=500></a></div><p>Looks familiar? It&rsquo;s not Google+. It&rsquo;s <a href=https://joindiaspora.com/>DIASPORA</a>. An open source project that implements a distributed social networking service. This project was announced on APRIL 24, 2010 (Just right after Facebook f8 2010 that is at APRIL 21). Alpha version was released at NOV 23, 2010 (two days before my birthday :P). </p><p>According to <a href=http://mashable.com/2010/05/28/zuckerberg-diaspora/>this</a>, Mark Zuckerbug also donated to it just because it&rsquo;s a cool idea.</p><p>It&rsquo;s built on Ruby on rails. So it might be not so difficult to port it to Heroku platform which is a nice RoR host (althrough it still took me some time). It might be easier than build from scratch on a Linux. </p><p>I&rsquo;m a newbie to these two (Heroku and DIASPORA). I&rsquo;m also not familar with RoR. Here records steps I tried. </p><p><span style=font-size:medium><strong>create an application on heroku</strong></span></p><p>First, you need to create an application on Heroku. There are several platform stack on Heroku. <a href=http://devcenter.heroku.com/articles/cedar>Cedar stack</a> might be the newest and most powerful one. It supports several languages and frameworks. And It also makes it very easy to deploy RoR applications. </p><p>You need to <a href=http://devcenter.heroku.com/articles/heroku-command>install heroku CLI</a> before creating an application. And use &ldquo;<em>heroku login</em>&rdquo; to login to your heroku account.</p><p>Run the following command to create a new cedar application (assume application name is &ldquo;mysocialy&rdquo;) &ndash;</p><blockquote class=posterous_short_quote><p><em>heroku create &ndash;stack cedar mysocialy</em></p></blockquote><p>After the application created, you&rsquo;ll have a url <em>&ldquo;http://mysocialy.herokuapp.com/&rdquo;</em> for your site. And a git repository: <em><a href=mailto:git@heroku.com>git@heroku.com</a>:mysocialy.git</em></p><p><span style=font-size:medium><em><strong>import source codes</strong></em></span></p><p>Get DIASPORA* source codes from git hub:</p><blockquote class=posterous_short_quote><p><em>git clone git://github.com/diaspora/diaspora.git</em></p></blockquote><p>Get your source codes from Heroku git repository (you&rsquo;ll get an empty folder):</p><blockquote class=posterous_short_quote><p><em>git clone </em><em><a href=mailto:git@heroku.com>git@heroku.com</a>:mysocialy.git</em></p></blockquote><p>If you have trouble to download from Heroku. Try to use &ldquo;<em>heroku keys:add</em>&rdquo; to add your ssh public key and try again.</p><p>Copy all files except &ldquo;.git&rdquo; folder from &ldquo;diaspora&rdquo; to &ldquo;mysocialy&rdquo;.</p><p><span style=font-size:medium><em><strong>Initial configuration</strong></em></span></p><p>Make new configuration files from example.</p><blockquote class=posterous_short_quote><p><em>cd config</em></p><p><em>mv application.yml.example application.yml  </em></p><p><em>mv database.yml.example database.yml</em></p></blockquote><p>Edit application.yml. Make &ldquo;pod_url&rdquo; to your host. In this case:</p><blockquote class=posterous_short_quote><p><em>pod_url: &ldquo;http://mysocialy.herokuapp.com/&rdquo;</em></p></blockquote><p><em><strong><span style=font-size:medium>Deploy codes</span></strong></em></p><p>Add and commit files:</p><blockquote class=posterous_short_quote><p><em>git add .</em></p><p><em>git commit -am &lsquo;initial import&rsquo;</em></p></blockquote><p>Push them to Heroku</p><blockquote class=posterous_short_quote><p><em>git push origin master</em></p></blockquote><p>The coolest thing that Heroku does is that it makes deploy codes so easy. All you need to do is to push your codes to its git repository. And it could also install all related modules for you (that is configured in Gemfile). Super easy.</p><p>Ok, I must admit that I lie a little bit. There might be some problems. After I pushes all codes to Heroku, I found there is an error that it couldn&rsquo;t find 'pg&rsquo; (postgresSQL). Looks like it does not install into gem.</p><p>I found the answer that it might be problem with gem version. Need to run &ldquo;<em>bundle install</em>&rdquo; at local.  This will generate a new Gemfile.lock. Push this new file to Heroku might solve this problem</p><p><em><span style=font-size:medium><strong>Ok, that&rsquo;s all?</strong></span></em></p><p>Not sure if I missed anything (I might). Anyway, what I did is alive at &ldquo;<em><a href=http://mysocialy.herokuapp.com/>http://mysocialy.herokuapp.com/</a>&rdquo;.</em></p></div><footer class=entry-meta><span class=entry-tags><a href=/tags/#Cloud title="Pages tagged Cloud" class=tag><span class=term>Cloud</span></a><a href=/tags/#Heroku title="Pages tagged Heroku" class=tag><span class=term>Heroku</span></a><a href=/tags/#Social-network title="Pages tagged Social-network" class=tag><span class=term>Social-network</span></a><a href=/tags/#Web-Dev title="Pages tagged Web-Dev" class=tag><span class=term>Web-Dev</span></a></span><div class=social-share><ul class="socialcount socialcount-small inline-list"><li class=facebook><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.jln.co%2f%25E7%25AD%2586%25E8%25A8%2598-Building-social-networking-service-with-DIASPORA-on-Heroku%2f" target=_blank title="Share on Facebook"><span class=count><i class="fa fa-facebook-square"></i>Like</span></a></li><li class=twitter><a href="https://twitter.com/intent/tweet?text=http%3a%2f%2fblog.jln.co%2f%25E7%25AD%2586%25E8%25A8%2598-Building-social-networking-service-with-DIASPORA-on-Heroku%2f" target=_blank title="Share on Twitter"><span class=count><i class="fa fa-twitter-square"></i>Tweet</span></a></li><li class=line><a href="https://social-plugins.line.me/lineit/share?url=http%3a%2f%2fblog.jln.co%2f%25E7%25AD%2586%25E8%25A8%2598-Building-social-networking-service-with-DIASPORA-on-Heroku%2f" target=_blank title="Share on LINE"><span class=count><i class="fab fa-line"></i>LINE</span></a></li></ul></div></footer></div><section id=disqus_thread><div class=fb-comments data-href=http://blog.jln.co/%E7%AD%86%E8%A8%98-Building-social-networking-service-with-DIASPORA-on-Heroku/ data-numposts=5 data-width></div></section></article></div><div class=footer-wrapper><footer role=contentinfo><span>Powered by <a href=https://gohugo.io/ rel=nofollow>Hugo</a> using the <a href=https://github.com/dldx/hpstr-hugo-theme rel=nofollow>HPSTR theme</a>.</span></footer></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://kit.fontawesome.com/872a53b461.js crossorigin=anonymous></script><script>window.jQuery||document.write('<script src="\/js\/vendor\/jquery-1.9.1.min.js"><\/script>')</script><script src=/js/scripts.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-79243751-1','auto');ga('send','pageview');}</script><div id=fb-root></div><script async defer crossorigin=anonymous src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v7.0&appId=293999444006555&autoLogAppEvents=1" nonce=geZSUIUh></script></body></html>
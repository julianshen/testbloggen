<!doctype html><!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=en><![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang=en><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang=en><![endif]--><!--[if gt IE 8]><!--><html class=no-js lang=en><!--<![endif]--><head><meta charset=utf-8><title>[Go筆記] Go on GAE: 比"Hello World"多一點點: 處理static files &#8211; Le murmure de Julian</title><meta name=description content><meta name=keywords content="IFTTT,Blogger,golang"><meta property="og:title" content="[Go筆記] Go on GAE: 比&#34;Hello World&#34;多一點點: 處理static files"><meta property="og:description" content="今天被問到Go適合用在哪方面, 至今只看了Go兩個晚上的我, 實在很難回答這問題, 先從FAQ找來創立Go的目的說起: &ldquo;Go is an attempt to combine the ease of programming of an interpreted, dynamically"><meta property="og:type" content="article"><meta property="og:url" content="http://blog.jln.co/Go%E7%AD%86%E8%A8%98-Go-on-GAE-%E6%AF%94Hello-World%E5%A4%9A%E4%B8%80%E9%BB%9E%E9%BB%9E-%E8%99%95%E7%90%86static-files/"><meta property="og:image" content="http://blog.jln.co/images/avatar.png"><meta property="article:published_time" content="2012-10-25T00:18:23+00:00"><meta property="article:modified_time" content="2012-10-25T00:18:23+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.jln.co/images/avatar.png"><meta name=twitter:title content="[Go筆記] Go on GAE: 比&#34;Hello World&#34;多一點點: 處理static files"><meta name=twitter:description content="今天被問到Go適合用在哪方面, 至今只看了Go兩個晚上的我, 實在很難回答這問題, 先從FAQ找來創立Go的目的說起: &ldquo;Go is an attempt to combine the ease of programming of an interpreted, dynamically"><link rel=canonical href=http://blog.jln.co/Go%E7%AD%86%E8%A8%98-Go-on-GAE-%E6%AF%94Hello-World%E5%A4%9A%E4%B8%80%E9%BB%9E%E9%BB%9E-%E8%99%95%E7%90%86static-files/><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.css><link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel=stylesheet type=text/css><meta http-equiv=cleartype content="on"><meta name=generator content="Hugo 0.73.0"><script src=/js/vendor/modernizr-2.6.2.custom.min.js></script><script async src=https://unpkg.com/mermaid@8.2.3/dist/mermaid.min.js></script><link rel="shortcut icon" href=/favicon.png></head><body id=post><nav id=dl-menu class=dl-menuwrapper role=navigation style=display:inline-block><button class=dl-trigger>Open Menu</button><ul class=dl-menu><li><a href=/>Home</a></li><li><a href=#>About</a><ul class=dl-submenu><li><img src=/images/avatar.png alt="Julian Shen's photo" class=author-photo><h4>Julian Shen</h4><p>Softward developer</p></li><li><a href=mailto:julianshen22@gmail.com><i class="fa fa-fw fa-envelope"></i>Email</a></li><li><a href=https://linkedin.com/in/julianshen><i class="fa fa-fw fa-linkedin"></i>LinkedIn</a></li><li><a href=https://github.com/julianshen><i class="fa fa-fw fa-github"></i>GitHub</a></li><li><a href=https://instagram.com/julianshen><i class="fa fa-fw fa-instagram"></i>Instagram</a></li></ul></li><li><a href=#>Posts</a><ul class=dl-submenu><li><a href=/post/>All Posts</a></li><li><a href=/tags/>All Tags</a></li></ul></li><li><a href=/></a></li></ul></nav><div id=main role=main><article class=hentry><header class=header-title><div class=header-title-wrap><h1 class=entry-title><a href=/Go%E7%AD%86%E8%A8%98-Go-on-GAE-%E6%AF%94Hello-World%E5%A4%9A%E4%B8%80%E9%BB%9E%E9%BB%9E-%E8%99%95%E7%90%86static-files/ rel=bookmark title='[Go筆記] Go on GAE: 比"Hello World"多一點點: 處理static files'>[Go筆記] Go on GAE: 比"Hello World"多一點點: 處理static files</a></h1><h2><span class="entry-date date published"><time datetime="2012-10-25 00:18:23 +0000 UTC">October 25, 2012</time></span></h2><p class=entry-reading-time><i class="fa fa-clock-o"></i>Reading time ~3 minutes</p></div></header><div class=entry-content><p>今天被問到Go適合用在哪方面, 至今只看了Go兩個晚上的我, 實在很難回答這問題, 先從FAQ找來創立Go的目的說起:<br><br></p><blockquote class=tr_bq><i><span style=color:#222;font-family:Helvetica,Arial,sans-serif;font-size:16px>&ldquo;Go is an attempt to combine the ease of programming of an interpreted, dynamically typed language with the efficiency and safety of a statically typed, compiled language. It also aims to be modern, with support for networked and multicore computing. Finally, it is intended to be </span><span style=color:#222;font-family:Helvetica,Arial,sans-serif;font-size:16px>fast</span><span style=color:#222;font-family:Helvetica,Arial,sans-serif;font-size:16px>: it should take at most a few seconds to build a large executable on a single computer. To meet these goals required addressing a number of linguistic issues: an expressive but lightweight type system; concurrency and garbage collection; rigid dependency specification; and so on. These cannot be addressed well by libraries or tools; a new language was called for.&rdquo;</span></i></blockquote>簡而言之, Go的目標是一個簡單又有效率的語言, 加上一開始設計就考慮網路以及多核, 就姑且說它適合server端的開發吧<br><br>事實上, GAE(Google AppEngine)也是有支援Go的 (怎麼說呢, 好歹這也是Google自己親生的呀)<br><br>那, 現在開發server端的工具那麼多種, 有什麼樣的理由是選Go優於其他解決方案呢? 以效率來說, 或許比較好吧, 既然它是原生碼, 應該會快一些吧, 但這也沒啥好的benchmark來佐證, 劣勢呢? 以node.js來相比好了(今年看比較多這個, 直覺拿這來做比較), 它不但沒既有的developer做基礎(既有的javascript developer是很大一群的), 也沒有數量很多且快速增長的第三方模組可供利用(雖然, 盲目用npm上的模組, 某種程度上要承擔一定的風險), 最大的問題就是&mldr;.<b>&ldquo;文件&rdquo;</b><br><br>以上前半段是抱怨文, 不過文件不足也沒辦法當啥藉口, 這年頭&mldr;.&ldquo;做就對了&rdquo;&mldr;..GAE上關於Go的文件也不是沒有, 跟著做, 就可以做出"Hello World"了, 但剛做完後, 突然楞住想&mldr;.那&mldr;我的html檔案放哪裡? 我總不能每個文件都寫在程式內, 總會有靜態檔案的呀! 有點讓我回到十幾年前寫CGI的感覺<br><br>GAE的文件還真找不到, 但在Go的文件<a href=http://bit.ly/SticN6>http.FileServer的範例</a>可以找到解答, 但要把"FileServer"這個interface跟這件事聯想在一起還真有點不容易, 不過反正就是在程式內要加入下面這行來處理靜態檔案<br><br><blockquote class=tr_bq><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">http</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">.</span><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">Handle</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">(</span><span class=s style="background-color:#fff;border:0;color:#d14;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">&ldquo;/&rdquo;</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">,</span><span style="background-color:#fff;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;white-space:pre"> </span><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">http</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">.</span><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">FileServer</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">(</span><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">http</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">.</span><span class=n style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">Dir</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">(</span><span class=s style="background-color:#fff;border:0;color:#d14;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">&ldquo;./static&rdquo;</span><span class=p style="background-color:#fff;border:0;color:#333;font-family:Consolas,liberation mono,Courier,monospace;line-height:16px;margin:0;padding:0;white-space:pre">)))</span></blockquote>這範例讓你可以把靜態檔案放在"static"目錄下, 假設你在static目錄下放一個a.html, 那這行的目的就是可以讓你用 http://your_app_host/a.html來存取它<br><br>我起始一個範例<a href=http://bit.ly/StibZC>放在github上</a>, 從這可以看完整的目錄結構, 未來相關範例也會放在這邊<br><br>via Blogger <a href=http://bit.ly/SixshC>http://bit.ly/SixshC</a><footer class=entry-meta><span class=entry-tags><a href=/tags/#IFTTT title="Pages tagged IFTTT" class=tag><span class=term>IFTTT</span></a><a href=/tags/#Blogger title="Pages tagged Blogger" class=tag><span class=term>Blogger</span></a><a href=/tags/#golang title="Pages tagged golang" class=tag><span class=term>golang</span></a></span><div class=social-share><ul class="socialcount socialcount-small inline-list"><li class=facebook><a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.jln.co%2fGo%25E7%25AD%2586%25E8%25A8%2598-Go-on-GAE-%25E6%25AF%2594Hello-World%25E5%25A4%259A%25E4%25B8%2580%25E9%25BB%259E%25E9%25BB%259E-%25E8%2599%2595%25E7%2590%2586static-files%2f" target=_blank title="Share on Facebook"><span class=count><i class="fa fa-facebook-square"></i>Like</span></a></li><li class=twitter><a href="https://twitter.com/intent/tweet?text=http%3a%2f%2fblog.jln.co%2fGo%25E7%25AD%2586%25E8%25A8%2598-Go-on-GAE-%25E6%25AF%2594Hello-World%25E5%25A4%259A%25E4%25B8%2580%25E9%25BB%259E%25E9%25BB%259E-%25E8%2599%2595%25E7%2590%2586static-files%2f" target=_blank title="Share on Twitter"><span class=count><i class="fa fa-twitter-square"></i>Tweet</span></a></li><li class=line><a href="https://social-plugins.line.me/lineit/share?url=http%3a%2f%2fblog.jln.co%2fGo%25E7%25AD%2586%25E8%25A8%2598-Go-on-GAE-%25E6%25AF%2594Hello-World%25E5%25A4%259A%25E4%25B8%2580%25E9%25BB%259E%25E9%25BB%259E-%25E8%2599%2595%25E7%2590%2586static-files%2f" target=_blank title="Share on LINE"><span class=count><i class="fab fa-line"></i>LINE</span></a></li></ul></div></footer></div><section id=disqus_thread><div class=fb-comments data-href=http://blog.jln.co/Go%E7%AD%86%E8%A8%98-Go-on-GAE-%E6%AF%94Hello-World%E5%A4%9A%E4%B8%80%E9%BB%9E%E9%BB%9E-%E8%99%95%E7%90%86static-files/ data-numposts=5 data-width></div></section></article></div><div class=footer-wrapper><footer role=contentinfo><span>Powered by <a href=https://gohugo.io/ rel=nofollow>Hugo</a> using the <a href=https://github.com/dldx/hpstr-hugo-theme rel=nofollow>HPSTR theme</a>.</span></footer></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://kit.fontawesome.com/872a53b461.js crossorigin=anonymous></script><script>window.jQuery||document.write('<script src="\/js\/vendor\/jquery-1.9.1.min.js"><\/script>')</script><script src=/js/scripts.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-79243751-1','auto');ga('send','pageview');}</script><div id=fb-root></div><script async defer crossorigin=anonymous src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v7.0&appId=293999444006555&autoLogAppEvents=1" nonce=geZSUIUh></script></body></html>